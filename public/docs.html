<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="full text DOIs">
    <meta name="author" content="Scott Chamberlain">
    <title>ftdoi.org</title>
    <link href="../css/bootstrap_sandstone.min.css" rel="stylesheet">
  </head>

  <body>

    <div class="container">
      <h1>ftdoi API Docs&nbsp;&nbsp;<small>Welcome to the API docs!</small></h1>

      <h2>Routes</h2>

      <div class="container-fluid">
        <ul>
          <h2><li><code>/</code> Landing page, info and such</li></h2>
          <h2><li><code>/docs</code> API documentation</li></h2>
          <h2><li><code>/api</code> Redirects to <code>/api/heartbeat</code></li></h2>
          <h2><li><code>/api/heartbeat</code> Lists routes on API</li></h2>
          <h2><li><code>/:doi</code> Redirect to full text version (NOT WORKING YET)</li></h2>
          <h2><li><code>/api/members</code> List/query all members</li></h2>
          <h2><li><code>/api/members/:member</code> List parsing info for one member</li></h2>
          <h2><li><code>/api/prefixes</code> List/query by prefix</li></h2>
          <h2><li><code>/api/prefixes/:prefix</code> List parsing info for one prefix</li></h2>
          <h2><li><code>/api/doi/*</code> Get links/other metadata by DOI</li></h2>
          <h2><li><code>/api/fetch/</code> Download full text</li></h2>
        </ul>
      </div>

      <h2>Examples</h2>

      <div class="container-fluid">
        <h3>all members</h3>
        <code>curl -v 'https://ftdoi.org/api/members' | jq .</code>
        <br>

        <h3>inividual crossref members</h3>
        <h4>eLife</h4>
        <code>curl -v 'https://ftdoi.org/api/members/4374' | jq .</code>
        <h4>Pensoft</h4>
        <code>curl -v 'https://ftdoi.org/api/members/2258' | jq .</code>
        <br>

        <h3>doi prefixes</h3>
        <p>Some publishers are inside of bigger publishers, so don't have their own Crossref member number, but do have their own DOI prefix, so we can use that to construct URLs for all their journals</p>

        <h4>cogent</h4>
        <code>curl -v 'https://ftdoi.org/api/prefixes/10.1080' | jq .</code>

        <h3>full text links</h3>
        <p>API to get link information - gives doi, xml, and pdf links</p>
        <h4>eLife</h4>
        <code>curl -v 'https://ftdoi.org/api/doi/10.7554/eLife.07404' | jq .</code>
        <h4>PeerJ</h4>
        <code>curl -v 'https://ftdoi.org/api/doi/10.7717/peerj.991' | jq .</code>

        <h3>fetch</h3>
        <h4>PLOS</h4>
        <code>curl 'https://ftdoi.org/api/fetch/10.1371/journal.pgen.1006546?type=xml'</code>
        <br>
        <code>curl -H 'application/xml' 'https://ftdoi.org/api/fetch/10.1371/journal.pgen.1006546'</code>
      </div>
    </div>

  </body>
</html>
